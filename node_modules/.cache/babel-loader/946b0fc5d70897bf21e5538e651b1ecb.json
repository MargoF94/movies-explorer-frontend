{"ast":null,"code":"import _slicedToArray from\"/Users/localmoyashi/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useLocation}from\"react-router-dom\";import'./FilterCheckbox.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FilterCheckbox(_ref){var isShortMovieChecked=_ref.isShortMovieChecked,onSearch=_ref.onSearch,onSavedSearch=_ref.onSavedSearch,handleCheckboxToggle=_ref.handleCheckboxToggle;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),filterState=_useState2[0],setFilterState=_useState2[1];var route=useLocation().pathname;// const filterState= localStorage.getItem('filterState');\nconsole.log(\"FILTER STATE ON MOUNTING IS \".concat(filterState));var classNameCircle=filterState?'checkbox__circle_checked':'checkbox__circle_unchecked';var classNameBG=filterState?'':'checkbox__new-check_unchecked';// function onToggle() {\n//   console.log('CheckBox is being tickled');\n//   handleCheckboxToggle();\n//   localStorage.setItem('filterState', isShortMovieChecked);\n// }\nfunction onToggle(){var searchWord=route==='/movies'?localStorage.getItem('searchWord'):localStorage.getItem('searchWordInSaved');// handleCheckboxToggle();\n// localStorage.setItem('filterState', true ? false : true);\nconsole.log(\"SEARCH WORD IN TOGGLE \".concat(localStorage.getItem('searchWord')));setFilterState(!filterState);handleCheckboxToggle();// setFilterState(!filterState);\n// console.log(`FILTER STATE ON TOGGLE IS ${localStorage.getItem('filterState')}`);\nroute==='/movies'?onSearch(searchWord):onSavedSearch(searchWord);}// useEffect(() => {\n//   onSearch(searchWord)\n// }, [isShortMovieChecked])\nuseEffect(function(){setFilterState(JSON.parse(localStorage.getItem('filterState')));},[]);return/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"checkbox__input\",type:\"checkbox\",value:filterState}),/*#__PURE__*/_jsx(\"span\",{className:\"checkbox__new-check \".concat(classNameBG),onClick:onToggle,children:/*#__PURE__*/_jsx(\"span\",{className:\"checkbox__circle \".concat(classNameCircle)})}),/*#__PURE__*/_jsx(\"span\",{className:\"checkbox__description\",children:\"\\u041A\\u043E\\u0440\\u043E\\u0442\\u043A\\u043E\\u043C\\u0435\\u0442\\u0440\\u0430\\u0436\\u043A\\u0438\"})]});}export default FilterCheckbox;","map":{"version":3,"names":["React","useEffect","useState","useLocation","FilterCheckbox","isShortMovieChecked","onSearch","onSavedSearch","handleCheckboxToggle","filterState","setFilterState","route","pathname","console","log","classNameCircle","classNameBG","onToggle","searchWord","localStorage","getItem","JSON","parse"],"sources":["/Users/localmoyashi/dev/movies-explorer-frontend/src/components/FilterCheckbox/FilterCheckbox.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport './FilterCheckbox.css';\n\nfunction FilterCheckbox({ isShortMovieChecked, onSearch, onSavedSearch, handleCheckboxToggle }) {\n  \n  const [filterState, setFilterState] = useState(false);\n\n  const route = useLocation().pathname;\n\n  // const filterState= localStorage.getItem('filterState');\n  console.log(`FILTER STATE ON MOUNTING IS ${filterState}`);\n\n  const classNameCircle = (\n    filterState ? \n      'checkbox__circle_checked' : \n      'checkbox__circle_unchecked'\n  )\n\n  const classNameBG = (\n    filterState ? '' : 'checkbox__new-check_unchecked'\n  )\n\n  // function onToggle() {\n  //   console.log('CheckBox is being tickled');\n  //   handleCheckboxToggle();\n  //   localStorage.setItem('filterState', isShortMovieChecked);\n  // }\n\n  function onToggle() {\n    const searchWord = route === '/movies' ?\n      localStorage.getItem('searchWord'): \n      localStorage.getItem('searchWordInSaved');\n    // handleCheckboxToggle();\n    // localStorage.setItem('filterState', true ? false : true);\n    console.log(`SEARCH WORD IN TOGGLE ${localStorage.getItem('searchWord')}`);\n    setFilterState(!filterState);\n    handleCheckboxToggle();\n    // setFilterState(!filterState);\n    // console.log(`FILTER STATE ON TOGGLE IS ${localStorage.getItem('filterState')}`);\n    route === '/movies' ?\n      onSearch(searchWord) :\n      onSavedSearch(searchWord);\n  }\n\n  // useEffect(() => {\n  //   onSearch(searchWord)\n  // }, [isShortMovieChecked])\n\n  useEffect(() => {\n    setFilterState(JSON.parse(localStorage.getItem('filterState')));\n  }, []);\n\n  return (\n    <label className=\"checkbox\">\n      <input \n        className=\"checkbox__input\" \n        type=\"checkbox\" \n        value={filterState} />\n      <span className={`checkbox__new-check ${classNameBG}`} onClick={onToggle}>\n        <span className={`checkbox__circle ${classNameCircle}`} />\n      </span>\n      <span className=\"checkbox__description\">Короткометражки</span>\n    </label>\n  )\n}\n\nexport default FilterCheckbox;"],"mappings":"sIAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAO,sBAAP,C,wFAEA,QAASC,eAAT,MAAgG,IAAtEC,oBAAsE,MAAtEA,mBAAsE,CAAjDC,QAAiD,MAAjDA,QAAiD,CAAvCC,aAAuC,MAAvCA,aAAuC,CAAxBC,oBAAwB,MAAxBA,oBAAwB,CAE9F,cAAsCN,QAAQ,CAAC,KAAD,CAA9C,wCAAOO,WAAP,eAAoBC,cAApB,eAEA,GAAMC,MAAK,CAAGR,WAAW,GAAGS,QAA5B,CAEA;AACAC,OAAO,CAACC,GAAR,uCAA2CL,WAA3C,GAEA,GAAMM,gBAAe,CACnBN,WAAW,CACT,0BADS,CAET,4BAHJ,CAMA,GAAMO,YAAW,CACfP,WAAW,CAAG,EAAH,CAAQ,+BADrB,CAIA;AACA;AACA;AACA;AACA;AAEA,QAASQ,SAAT,EAAoB,CAClB,GAAMC,WAAU,CAAGP,KAAK,GAAK,SAAV,CACjBQ,YAAY,CAACC,OAAb,CAAqB,YAArB,CADiB,CAEjBD,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAFF,CAGA;AACA;AACAP,OAAO,CAACC,GAAR,iCAAqCK,YAAY,CAACC,OAAb,CAAqB,YAArB,CAArC,GACAV,cAAc,CAAC,CAACD,WAAF,CAAd,CACAD,oBAAoB,GACpB;AACA;AACAG,KAAK,GAAK,SAAV,CACEL,QAAQ,CAACY,UAAD,CADV,CAEEX,aAAa,CAACW,UAAD,CAFf,CAGD,CAED;AACA;AACA;AAEAjB,SAAS,CAAC,UAAM,CACdS,cAAc,CAACW,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAAD,CAAd,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,eAAO,SAAS,CAAC,UAAjB,wBACE,cACE,SAAS,CAAC,iBADZ,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAEX,WAHT,EADF,cAKE,aAAM,SAAS,+BAAyBO,WAAzB,CAAf,CAAuD,OAAO,CAAEC,QAAhE,uBACE,aAAM,SAAS,4BAAsBF,eAAtB,CAAf,EADF,EALF,cAQE,aAAM,SAAS,CAAC,uBAAhB,wGARF,GADF,CAYD,CAED,cAAeX,eAAf"},"metadata":{},"sourceType":"module"}