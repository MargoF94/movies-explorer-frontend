{"ast":null,"code":"import React from\"react\";import'./MoviesCard.css';import saved from'../../images/icon_saved.svg';import unsaved from'../../images/unsave-icon.svg';import{useLocation}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MoviesCard(_ref){var movie=_ref.movie,savedMovies=_ref.savedMovies,handleSetLike=_ref.handleSetLike,handleRemoveLike=_ref.handleRemoveLike;var route=useLocation().pathname;var isSaved;function getIsSaved(){if(route==='/movies'){// если id данной карточки соответствует id одной из сохраненных карточек\n// задать значение isSaved - true\n// если нет - false\nvar isMovieSaved=savedMovies.filter(function(item){return item.movieId===movie.id;});isSaved=isMovieSaved.length>0?true:false;}else if(route==='/saved-movies'){isSaved=true;}}getIsSaved();var onLike=function onLike(){console.log('A movie has been liked!');console.log(movie);handleSetLike(movie);};var onDislike=function onDislike(){console.log('A movie has been disliked!');if(route==='/movies'){var movieToDelete=savedMovies.find(function(m){return m.movieId===movie.id;});console.log(movieToDelete);console.log(movieToDelete.movieId);handleRemoveLike(movieToDelete);}else{handleRemoveLike(movie);}};var className=\"card__button \".concat(isSaved&&route==='/movies'&&'card__button-saved',\" \").concat(route==='/saved-movies'&&'card__button-unsave',\" \").concat(!isSaved&&'card__button-nonsaved');var buttonSymbol=function buttonSymbol(){if(isSaved&&route==='/movies'){return/*#__PURE__*/_jsx(\"img\",{src:saved,alt:\"\\u0433\\u0430\\u043B\\u043E\\u0447\\u043A\\u0430\"});}else if(route==='/saved-movies'){return/*#__PURE__*/_jsx(\"img\",{src:unsaved,alt:\"\\u043A\\u0440\\u0435\\u0441\\u0442\\u0438\\u043A\"});}else{return'Сохранить';}};var transformDuration=function transformDuration(){var duration=movie.duration;var hours=Math.floor(duration/60);// часы\nvar mins=duration-hours*60;// оставшиеся минуты\nreturn\"\".concat(hours>0?hours+'ч ':'').concat(mins>0?mins+'м':'');};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card__info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card__title\",children:movie.nameRU}),/*#__PURE__*/_jsx(\"span\",{className:\"card__duration\",children:transformDuration()})]}),/*#__PURE__*/_jsx(\"a\",{className:\"card__image-link\",href:movie.trailerLink,target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{className:\"card__image\",src:route==='/movies'?\"https://api.nomoreparties.co\".concat(movie.image.url):movie.image,alt:movie.nameRU})}),/*#__PURE__*/_jsx(\"button\",{className:className,onClick:isSaved===true?onDislike:onLike,children:buttonSymbol()})]});}export default MoviesCard;","map":{"version":3,"names":["React","saved","unsaved","useLocation","MoviesCard","movie","savedMovies","handleSetLike","handleRemoveLike","route","pathname","isSaved","getIsSaved","isMovieSaved","filter","item","movieId","id","length","onLike","console","log","onDislike","movieToDelete","find","m","className","buttonSymbol","transformDuration","duration","hours","Math","floor","mins","nameRU","trailerLink","image","url"],"sources":["/Users/localmoyashi/dev/movies-explorer-frontend/src/components/MoviesCard/MoviesCard.js"],"sourcesContent":["import React from \"react\";\nimport './MoviesCard.css';\nimport saved from '../../images/icon_saved.svg';\nimport unsaved from '../../images/unsave-icon.svg';\nimport { useLocation } from \"react-router\";\n\nfunction MoviesCard({ movie, savedMovies, handleSetLike, handleRemoveLike }) {\n\n  const route = useLocation().pathname;\n  let isSaved;\n\n  function getIsSaved () {\n    if (route === '/movies') {\n\n      // если id данной карточки соответствует id одной из сохраненных карточек\n      // задать значение isSaved - true\n      // если нет - false\n\n      const isMovieSaved = savedMovies.filter(item => item.movieId === movie.id);\n      isSaved = isMovieSaved.length > 0 ? true : false;\n    } else if (route === '/saved-movies') {\n      isSaved = true;\n      }\n    }\n\n    getIsSaved();\n\n  const onLike = () => {\n\n    console.log('A movie has been liked!');\n    console.log(movie);\n    handleSetLike(movie);\n  };\n\n  const onDislike = () => {\n    console.log('A movie has been disliked!');\n    if (route === '/movies') {\n      const movieToDelete = savedMovies.find(m => m.movieId === movie.id);\n      console.log(movieToDelete);\n      console.log(movieToDelete.movieId);\n      handleRemoveLike(movieToDelete);\n    } else {\n      handleRemoveLike(movie);\n    }\n  }\n\n  const className = (\n    `card__button ${ (isSaved && route === '/movies') && 'card__button-saved' } ${ route === '/saved-movies' && 'card__button-unsave' } ${!isSaved && 'card__button-nonsaved'}`\n  )\n  \n  const buttonSymbol = () => {\n    if (isSaved && route === '/movies') {\n      return (<img src={saved} alt=\"галочка\" />);\n    } else if (route === '/saved-movies') {\n      return (<img src={unsaved} alt=\"крестик\" />);\n    } else {\n      return ('Сохранить');\n    }\n  }\n\n  const transformDuration = () => {\n    const duration = movie.duration;\n    const hours = Math.floor(duration / 60); // часы\n    const mins = duration - hours * 60; // оставшиеся минуты\n    return`${hours > 0 ? hours + 'ч ' : ''}${mins > 0 ? mins + 'м' : ''}`;\n  }\n\n  return (\n    <div className=\"card\">\n      <div className=\"card__info\">\n        <h3 className=\"card__title\">{ movie.nameRU }</h3>\n        <span className=\"card__duration\">{ transformDuration() }</span>\n      </div>\n      <a\n        className=\"card__image-link\"\n        href={ movie.trailerLink }\n        target=\"_blank\"\n        rel=\"noreferrer\">\n        <img\n          className=\"card__image\"\n          src={ route === '/movies' ? `https://api.nomoreparties.co${movie.image.url}` : movie.image }\n          alt={ movie.nameRU } />\n      </a>\n      <button\n        className={ className }\n        onClick={isSaved === true ? onDislike : onLike}>\n        { buttonSymbol() }\n      </button>\n    </div>\n  )\n}\n\nexport default MoviesCard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}