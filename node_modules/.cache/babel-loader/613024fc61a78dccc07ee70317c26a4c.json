{"ast":null,"code":"var _jsxFileName = \"/Users/localmoyashi/dev/movies-explorer-frontend/src/components/App/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Main from '../Main/Main';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Profile from '../Profile/Profile';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport Page404 from '../Page404/Page404';\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport * as tooltip from '../../utils/tooltip';\nimport * as MainApi from '../../utils/MainApi';\nimport MoviesApi from '../../utils/MoviesApi';\nimport './App.css';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const history = useHistory();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const [infoToolTipInfo, setInfoToolTipInfo] = useState({});\n  const [savedMovies, setSavedMovies] = useState([]); // ЛОКАЛЬНОЕ ХРАНИЛИЩЕ\n  // Фильмы, полученные после поиска\n\n  const searchResults = JSON.parse(localStorage.getItem('searchResults')); // Текст запроса\n\n  const searchWord = JSON.parse(localStorage.getItem('searchWord')); // Состояние переключателя\n\n  const filterState = localStorage.getItem('filterState'); // Обработка регистрации\n\n  function handleRegister(name, email, password) {\n    MainApi.register(email, password, name).then(res => {\n      if (res.ok) {\n        history.push('/signin');\n        setInfoToolTipInfo({\n          mesage: tooltip.registrationSuccess,\n          image: tooltip.successIcon\n        });\n      } else {\n        setInfoToolTipInfo({\n          message: tooltip.registrationFail,\n          image: tooltip.successIcon\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n      setInfoToolTipInfo({\n        message: tooltip.registrationFail,\n        image: tooltip.failIcon\n      });\n    }).finally(() => {\n      setIsInfoToolTipOpen(true);\n    });\n  } // Обработка логина\n\n\n  function handleLogin(email, password) {\n    if (!email || !password) {\n      console.log('No email or password on login; aborting.');\n      return;\n    }\n\n    MainApi.login(email, password).then(data => {\n      console.log(`In handleLogin: res data: ${data.jwt}`);\n\n      if (!data.jwt) {\n        throw new Error('Произошла ошибка (авторизации на фронте)');\n      }\n\n      localStorage.setItem('jwt', data.jwt);\n      return data._id;\n    }).then(id => {\n      tokenCheck();\n      setCurrentUser({\n        _id: id\n      });\n      setIsLoggedIn(true);\n      history.push('/movies');\n      setInfoToolTipInfo({\n        message: tooltip.loginSuccess,\n        image: tooltip.successIcon\n      });\n    }).catch(err => {\n      console.log(err);\n      setInfoToolTipInfo({\n        message: tooltip.loginFail,\n        image: tooltip.failIcon\n      });\n    }).finally(() => {\n      setIsInfoToolTipOpen(true);\n    });\n  } // Обработка обновления профиля\n\n\n  function handleEditProfileSubmit(name, email) {\n    MainApi.editProfile(name, email).then(data => {\n      setCurrentUser(data);\n      setInfoToolTipInfo({\n        message: tooltip.updateSuccess,\n        image: tooltip.successIcon\n      });\n    }).catch(err => {\n      console.log(err);\n      setInfoToolTipInfo({\n        message: tooltip.updateFail,\n        image: tooltip.failIcon\n      });\n    }).finally(() => {\n      setIsInfoToolTipOpen(true);\n    });\n  }\n\n  function handleLogOut() {\n    localStorage.removeItem('jwt');\n    setIsLoggedIn(false);\n    history.push('/signin');\n  }\n\n  function closePopups() {\n    setIsInfoToolTipOpen(false);\n  } // Добавить фильм в библиотеку сохраненных фильмов\n  // или оповестить юзера об ошибке\n\n\n  function handleSetLike(movie) {\n    MainApi.createLocalCard(movie).then(createdMovie => {\n      console.log(`Saved movie in handleSetLike: ${createdMovie}`);\n      setSavedMovies([createdMovie, ...savedMovies]);\n    }).catch(err => {\n      console.log(err);\n      setInfoToolTipInfo({\n        message: tooltip.saveFail,\n        image: tooltip.failIcon\n      });\n      setIsInfoToolTipOpen(true);\n    });\n  }\n\n  function handleRemoveLike(movie) {\n    MainApi.deleteLocalMovie(movie.movieId).then(() => {\n      MainApi.getSavedMovies.then(movies => {\n        setSavedMovies(movies);\n      }).catch(err => {\n        console.log(err);\n      });\n    }).catch(err => {\n      console.log(err);\n      setInfoToolTipInfo({\n        message: tooltip.removeFail,\n        image: tooltip.failIcon\n      });\n      setIsInfoToolTipOpen(true);\n    });\n  }\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n\n    if (jwt) {\n      MainApi.getContent(jwt).then(data => {\n        if (data) {\n          console.log(`In tokenCheck: getContent response: ${data}`);\n          setIsLoggedIn(true);\n          setCurrentUser({\n            email: data.email\n          });\n        } else {\n          localStorage.removeItem('jwt');\n        }\n      }).catch(err => {\n        localStorage.removeItem('jwt');\n      });\n    } else {\n      setIsLoggedIn(false);\n    }\n  }\n\n  useEffect(() => {\n    tokenCheck();\n  }, [history]);\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Main, {\n            isLoggedIn: isLoggedIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/movies\",\n          component: Movies,\n          isLoggedIn: isLoggedIn,\n          searchResults: searchResults,\n          onLike: handleSetLike,\n          onDislike: handleRemoveLike\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"saved-movies\",\n          component: SavedMovies,\n          isLoggedIn: isLoggedIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/profile\",\n          component: Profile,\n          onSubmit: handleEditProfileSubmit,\n          onLogOut: handleLogOut,\n          isLoggedIn: isLoggedIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signin\",\n          children: /*#__PURE__*/_jsxDEV(Login, {\n            handleLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          children: /*#__PURE__*/_jsxDEV(Register, {\n            handleRegister: handleRegister\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          children: /*#__PURE__*/_jsxDEV(Page404, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n        isOpen: isInfoToolTipOpen,\n        onClose: closePopups,\n        info: infoToolTipInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"rt3PTl7hRUpXeegd9Jb9Oi0hCiw=\", false, function () {\n  return [useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Route","Switch","useHistory","Main","Movies","SavedMovies","Profile","Login","Register","Page404","InfoTooltip","ProtectedRoute","tooltip","MainApi","MoviesApi","CurrentUserContext","App","history","isLoggedIn","setIsLoggedIn","currentUser","setCurrentUser","isInfoToolTipOpen","setIsInfoToolTipOpen","infoToolTipInfo","setInfoToolTipInfo","savedMovies","setSavedMovies","searchResults","JSON","parse","localStorage","getItem","searchWord","filterState","handleRegister","name","email","password","register","then","res","ok","push","mesage","registrationSuccess","image","successIcon","message","registrationFail","catch","err","console","log","failIcon","finally","handleLogin","login","data","jwt","Error","setItem","_id","id","tokenCheck","loginSuccess","loginFail","handleEditProfileSubmit","editProfile","updateSuccess","updateFail","handleLogOut","removeItem","closePopups","handleSetLike","movie","createLocalCard","createdMovie","saveFail","handleRemoveLike","deleteLocalMovie","movieId","getSavedMovies","movies","removeFail","getContent"],"sources":["/Users/localmoyashi/dev/movies-explorer-frontend/src/components/App/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Main from '../Main/Main';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Profile from '../Profile/Profile';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport Page404 from '../Page404/Page404';\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport * as tooltip from '../../utils/tooltip';\nimport * as MainApi from '../../utils/MainApi';\nimport MoviesApi from '../../utils/MoviesApi'\nimport './App.css';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction App() {\n\n  const history = useHistory();\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const [infoToolTipInfo, setInfoToolTipInfo] = useState({});\n  const [savedMovies, setSavedMovies] = useState([]);\n\n  // ЛОКАЛЬНОЕ ХРАНИЛИЩЕ\n\n  // Фильмы, полученные после поиска\n  const searchResults = JSON.parse(localStorage.getItem('searchResults'));\n  // Текст запроса\n  const searchWord = JSON.parse(localStorage.getItem('searchWord'))\n  // Состояние переключателя\n  const filterState = localStorage.getItem('filterState');\n\n  // Обработка регистрации\n\n  function handleRegister (name, email, password) {\n    MainApi.register(email, password, name)\n      .then((res) => {\n        if (res.ok) {\n          history.push('/signin');\n          setInfoToolTipInfo({\n            mesage: tooltip.registrationSuccess,\n            image: tooltip.successIcon\n          });\n        } else {\n          setInfoToolTipInfo({\n            message: tooltip.registrationFail,\n            image: tooltip.successIcon\n          })\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setInfoToolTipInfo({\n          message: tooltip.registrationFail,\n          image: tooltip.failIcon\n        });\n      })\n      .finally(() => {\n        setIsInfoToolTipOpen(true);\n      })\n  }\n  \n  // Обработка логина\n\n  function handleLogin (email, password) {\n    if (!email || !password) {\n      console.log('No email or password on login; aborting.');\n      return;\n    }\n    \n    MainApi.login(email, password)\n      .then((data) => {\n        console.log(`In handleLogin: res data: ${data.jwt}`);\n        if(!data.jwt) {\n          throw new Error('Произошла ошибка (авторизации на фронте)');\n        }\n        localStorage.setItem('jwt', data.jwt);\n        return data._id;\n      })\n      .then((id) => {\n        tokenCheck();\n        setCurrentUser({\n          _id: id,\n        });\n        setIsLoggedIn(true);\n        history.push('/movies');\n        setInfoToolTipInfo({\n          message: tooltip.loginSuccess,\n          image: tooltip.successIcon\n        })\n      })\n      .catch((err) => {\n        console.log(err);\n        setInfoToolTipInfo({\n          message: tooltip.loginFail,\n          image: tooltip.failIcon\n        });\n      })\n      .finally(() => {\n        setIsInfoToolTipOpen(true);\n      });\n  }\n\n  // Обработка обновления профиля\n\n  function handleEditProfileSubmit (name, email) {\n    MainApi.editProfile(name, email)\n      .then((data) => {\n        setCurrentUser(data);\n        setInfoToolTipInfo({\n          message: tooltip.updateSuccess,\n          image: tooltip.successIcon\n        })\n      })\n      .catch((err) => {\n        console.log(err);\n        setInfoToolTipInfo({\n          message: tooltip.updateFail,\n          image: tooltip.failIcon\n        })\n      })\n      .finally(() => {\n        setIsInfoToolTipOpen(true)\n      });\n  }\n\n  function handleLogOut () {\n    localStorage.removeItem('jwt');\n    setIsLoggedIn(false);\n    history.push('/signin');\n  }\n\n  function closePopups () {\n    setIsInfoToolTipOpen(false);\n  }\n\n  // Добавить фильм в библиотеку сохраненных фильмов\n  // или оповестить юзера об ошибке\n\n  function handleSetLike (movie) {\n    MainApi.createLocalCard(movie)\n      .then((createdMovie) => {\n        console.log(`Saved movie in handleSetLike: ${createdMovie}`);\n        setSavedMovies([createdMovie, ...savedMovies])\n      })\n      .catch((err) => {\n        console.log(err);\n        setInfoToolTipInfo({\n          message: tooltip.saveFail,\n          image: tooltip.failIcon\n        });\n        setIsInfoToolTipOpen(true);\n      })\n  }\n\n  function handleRemoveLike (movie) {\n    MainApi.deleteLocalMovie(movie.movieId)\n      .then(() => {\n        MainApi.getSavedMovies\n          .then((movies) => {\n            setSavedMovies(movies);\n          })\n          .catch((err) => {\n            console.log(err);\n          })\n      })\n      .catch((err) => {\n        console.log(err);\n        setInfoToolTipInfo({\n          message: tooltip.removeFail,\n          image: tooltip.failIcon\n        });\n        setIsInfoToolTipOpen(true);\n      })\n  }\n\n  function tokenCheck () {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      MainApi.getContent(jwt)\n        .then((data) => {\n          if (data) {\n            console.log(`In tokenCheck: getContent response: ${data}`);\n            setIsLoggedIn(true);\n            setCurrentUser({\n              email: data.email\n            })\n          } else {\n            localStorage.removeItem('jwt');\n          }\n        })\n        .catch((err) => {\n          localStorage.removeItem('jwt');\n        })\n    } else {\n      setIsLoggedIn(false);\n    }\n  }\n\n  useEffect(() => {\n    tokenCheck();\n  }, [history]);\n  \n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"app\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Main\n              isLoggedIn={isLoggedIn} />\n          </Route>\n\n          <ProtectedRoute\n            path=\"/movies\"\n            component={Movies}\n            isLoggedIn={isLoggedIn}\n            searchResults={searchResults}\n            onLike={handleSetLike}\n            onDislike={handleRemoveLike} />\n\n          <ProtectedRoute\n            path=\"saved-movies\"\n            component={SavedMovies}\n            isLoggedIn={isLoggedIn} />\n\n          <ProtectedRoute\n            path=\"/profile\"\n            component={Profile}\n            onSubmit={handleEditProfileSubmit}\n            onLogOut={handleLogOut}\n            isLoggedIn={isLoggedIn} />\n\n          <Route path=\"/signin\">\n            <Login\n              handleLogin={handleLogin} />\n          </Route>\n\n          <Route path=\"/signup\">\n            <Register\n              handleRegister={handleRegister} />\n          </Route>\n\n          <Route path=\"*\">\n            <Page404 />\n          </Route>\n        </Switch>\n\n        <InfoTooltip\n          isOpen={isInfoToolTipOpen}\n          onClose={closePopups}\n          info={infoToolTipInfo} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}