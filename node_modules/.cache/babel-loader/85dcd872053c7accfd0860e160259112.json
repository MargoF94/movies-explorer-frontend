{"ast":null,"code":"import _slicedToArray from\"/Users/localmoyashi/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useLocation}from\"react-router\";import MoviesCard from'../MoviesCard/MoviesCard';import'./MoviesCardList.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MoviesList(_ref){var movies=_ref.movies,savedMovies=_ref.savedMovies,handleSetLike=_ref.handleSetLike,handleRemoveLike=_ref.handleRemoveLike,isNoResults=_ref.isNoResults;var getMoviesToDisplay=function getMoviesToDisplay(){var windowWidth=window.innerWidth;if(windowWidth>1279){return 12;}else if(windowWidth>=768){return 8;}else{return 4;}};// Кол-во отрендереных фильмов по умолчанию\nvar _useState=useState(getMoviesToDisplay),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var route=useLocation().pathname;console.log(route);var addMoreMovies=function addMoreMovies(){var windowWidth=window.innerWidth;if(windowWidth<1280){setCount(count+2);}else{setCount(count+3);}};var displayedMovies=movies.slice(0,count);useEffect(function(){window.addEventListener('resize',getMoviesToDisplay);console.log(movies);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"movies-list\",children:[isNoResults&&/*#__PURE__*/_jsx(\"p\",{className:\"movies-list__not-found\",children:\"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"}),/*#__PURE__*/_jsx(\"div\",{className:\"movies-list__container\",children:displayedMovies.length>0&&displayedMovies.map(function(movie){return/*#__PURE__*/_jsx(MoviesCard,{movie:movie,movies:movies,savedMovies:savedMovies,handleSetLike:handleSetLike,handleRemoveLike:handleRemoveLike},movie.movieId||movie.id||movie._id);})}),/*#__PURE__*/_jsx(\"button\",{className:\"movies-list__button-more \".concat(count>=movies.length&&'movies-list__button-more_disabled',\" \").concat(route==='/saved-movies'&&'movies-list__button-more_invisible'),onClick:addMoreMovies,disabled:count>=movies.length,children:\"\\u0415\\u0449\\u0451\"})]});}export default MoviesList;","map":{"version":3,"names":["React","useEffect","useState","useLocation","MoviesCard","MoviesList","movies","savedMovies","handleSetLike","handleRemoveLike","isNoResults","getMoviesToDisplay","windowWidth","window","innerWidth","count","setCount","route","pathname","console","log","addMoreMovies","displayedMovies","slice","addEventListener","length","map","movie","movieId","id","_id"],"sources":["/Users/localmoyashi/dev/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router\";\nimport MoviesCard from '../MoviesCard/MoviesCard';\nimport './MoviesCardList.css';\n\nfunction MoviesList({\n  movies,\n  savedMovies,\n  handleSetLike,\n  handleRemoveLike,\n  isNoResults,\n  }) {\n\n  const getMoviesToDisplay = () => {\n    const windowWidth = window.innerWidth;\n    if (windowWidth > 1279) {\n      return 12;\n    } else if (windowWidth >= 768) {\n      return 8;\n    } else {\n      return 4;\n    }\n  };\n\n  // Кол-во отрендереных фильмов по умолчанию\n  const [count, setCount] = useState(getMoviesToDisplay);\n  const route = useLocation().pathname;\n  console.log(route);\n\n  const addMoreMovies = () => {\n    const windowWidth = window.innerWidth;\n\n    if (windowWidth < 1280) {\n      setCount(count + 2)\n    } else {\n      setCount(count + 3)\n    }\n  };\n\n  const displayedMovies = movies.slice(0, count);\n\n  useEffect(() => {\n    window.addEventListener('resize', getMoviesToDisplay);\n    console.log(movies); \n  }, []);\n\n  return (\n    <div className=\"movies-list\">\n      { isNoResults && <p className=\"movies-list__not-found\">Ничего не найдено</p> }\n      <div className=\"movies-list__container\">\n        {\n          displayedMovies.length > 0 &&\n          displayedMovies.map((movie) => {\n            return <MoviesCard\n              key={movie.movieId || movie.id || movie._id}\n              movie={movie}\n              movies={movies}\n              savedMovies={savedMovies}\n              handleSetLike={handleSetLike}\n              handleRemoveLike={handleRemoveLike} />\n          })\n        }\n      </div>\n\n      <button \n        className={`movies-list__button-more ${count >= movies.length && 'movies-list__button-more_disabled'} ${route === '/saved-movies' && 'movies-list__button-more_invisible'}`}\n        onClick={addMoreMovies}\n        disabled={count >= movies.length}>\n        Ещё\n      </button>\n    </div>\n    \n  )\n}\n\nexport default MoviesList;"],"mappings":"sIAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,MAAO,sBAAP,C,wFAEA,QAASC,WAAT,MAMK,IALHC,OAKG,MALHA,MAKG,CAJHC,WAIG,MAJHA,WAIG,CAHHC,aAGG,MAHHA,aAGG,CAFHC,gBAEG,MAFHA,gBAEG,CADHC,WACG,MADHA,WACG,CAEH,GAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,EAAM,CAC/B,GAAMC,YAAW,CAAGC,MAAM,CAACC,UAA3B,CACA,GAAIF,WAAW,CAAG,IAAlB,CAAwB,CACtB,MAAO,GAAP,CACD,CAFD,IAEO,IAAIA,WAAW,EAAI,GAAnB,CAAwB,CAC7B,MAAO,EAAP,CACD,CAFM,IAEA,CACL,MAAO,EAAP,CACD,CACF,CATD,CAWA;AACA,cAA0BV,QAAQ,CAACS,kBAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eACA,GAAMC,MAAK,CAAGd,WAAW,GAAGe,QAA5B,CACAC,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAEA,GAAMI,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC1B,GAAMT,YAAW,CAAGC,MAAM,CAACC,UAA3B,CAEA,GAAIF,WAAW,CAAG,IAAlB,CAAwB,CACtBI,QAAQ,CAACD,KAAK,CAAG,CAAT,CAAR,CACD,CAFD,IAEO,CACLC,QAAQ,CAACD,KAAK,CAAG,CAAT,CAAR,CACD,CACF,CARD,CAUA,GAAMO,gBAAe,CAAGhB,MAAM,CAACiB,KAAP,CAAa,CAAb,CAAgBR,KAAhB,CAAxB,CAEAd,SAAS,CAAC,UAAM,CACdY,MAAM,CAACW,gBAAP,CAAwB,QAAxB,CAAkCb,kBAAlC,EACAQ,OAAO,CAACC,GAAR,CAAYd,MAAZ,EACD,CAHQ,CAGN,EAHM,CAAT,CAKA,mBACE,aAAK,SAAS,CAAC,aAAf,WACII,WAAW,eAAI,UAAG,SAAS,CAAC,wBAAb,0GADnB,cAEE,YAAK,SAAS,CAAC,wBAAf,UAEIY,eAAe,CAACG,MAAhB,CAAyB,CAAzB,EACAH,eAAe,CAACI,GAAhB,CAAoB,SAACC,KAAD,CAAW,CAC7B,mBAAO,KAAC,UAAD,EAEL,KAAK,CAAEA,KAFF,CAGL,MAAM,CAAErB,MAHH,CAIL,WAAW,CAAEC,WAJR,CAKL,aAAa,CAAEC,aALV,CAML,gBAAgB,CAAEC,gBANb,EACAkB,KAAK,CAACC,OAAN,EAAiBD,KAAK,CAACE,EAAvB,EAA6BF,KAAK,CAACG,GADnC,CAAP,CAOD,CARD,CAHJ,EAFF,cAiBE,eACE,SAAS,oCAA8Bf,KAAK,EAAIT,MAAM,CAACmB,MAAhB,EAA0B,mCAAxD,aAA+FR,KAAK,GAAK,eAAV,EAA6B,oCAA5H,CADX,CAEE,OAAO,CAAEI,aAFX,CAGE,QAAQ,CAAEN,KAAK,EAAIT,MAAM,CAACmB,MAH5B,gCAjBF,GADF,CA2BD,CAED,cAAepB,WAAf"},"metadata":{},"sourceType":"module"}